<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>libshardcache: src/shardcache_node.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libshardcache
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('shardcache__node_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">shardcache_node.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="shardcache_8h_source.html">shardcache.h</a>&gt;</code><br/>
</div>
<p><a href="shardcache__node_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a860894af5414a0540d590e28afe950c7"><td class="memItemLeft" align="right" valign="top">typedef struct __shardcache_node_s&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a></td></tr>
<tr class="memdesc:a860894af5414a0540d590e28afe950c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing a node taking part in the shard cache.  <a href="#a860894af5414a0540d590e28afe950c7">More...</a><br/></td></tr>
<tr class="separator:a860894af5414a0540d590e28afe950c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2badea72b53f16926b5b1149a41abf2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shardcache__node_8h.html#a2badea72b53f16926b5b1149a41abf2c">shardcache_node_create</a> (char *label, char **addresses, int num_addresses)</td></tr>
<tr class="memdesc:a2badea72b53f16926b5b1149a41abf2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new shardcache_node_t structure.  <a href="#a2badea72b53f16926b5b1149a41abf2c">More...</a><br/></td></tr>
<tr class="separator:a2badea72b53f16926b5b1149a41abf2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17d43616aea15b1f2bab1c27d1d3193a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shardcache__node_8h.html#a17d43616aea15b1f2bab1c27d1d3193a">shardcache_node_create_from_string</a> (char *str)</td></tr>
<tr class="memdesc:a17d43616aea15b1f2bab1c27d1d3193a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new shardcache_node_t structure by parsing a full node string.  <a href="#a17d43616aea15b1f2bab1c27d1d3193a">More...</a><br/></td></tr>
<tr class="separator:a17d43616aea15b1f2bab1c27d1d3193a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fd1dab4ef239e3ee7d6f481d2e34634"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shardcache__node_8h.html#a8fd1dab4ef239e3ee7d6f481d2e34634">shardcache_node_copy</a> (<a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *node)</td></tr>
<tr class="memdesc:a8fd1dab4ef239e3ee7d6f481d2e34634"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a copy of an existing shardcache_node_t structure.  <a href="#a8fd1dab4ef239e3ee7d6f481d2e34634">More...</a><br/></td></tr>
<tr class="separator:a8fd1dab4ef239e3ee7d6f481d2e34634"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe43d081702ba86967e950a460a4540"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shardcache__node_8h.html#adfe43d081702ba86967e950a460a4540">shardcache_node_destroy</a> (<a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *node)</td></tr>
<tr class="memdesc:adfe43d081702ba86967e950a460a4540"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release all the resources used by a shardcache_node_t structure.  <a href="#adfe43d081702ba86967e950a460a4540">More...</a><br/></td></tr>
<tr class="separator:adfe43d081702ba86967e950a460a4540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a394b31103821ffa12117d3d30d746229"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shardcache__node_8h.html#a394b31103821ffa12117d3d30d746229">shardcache_node_get_label</a> (<a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *node)</td></tr>
<tr class="memdesc:a394b31103821ffa12117d3d30d746229"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the label for a given node.  <a href="#a394b31103821ffa12117d3d30d746229">More...</a><br/></td></tr>
<tr class="separator:a394b31103821ffa12117d3d30d746229"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68ee36b423681d7e544b244ebbeda0b0"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shardcache__node_8h.html#a68ee36b423681d7e544b244ebbeda0b0">shardcache_node_get_string</a> (<a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *node)</td></tr>
<tr class="memdesc:a68ee36b423681d7e544b244ebbeda0b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the node-string representing a given node.  <a href="#a68ee36b423681d7e544b244ebbeda0b0">More...</a><br/></td></tr>
<tr class="separator:a68ee36b423681d7e544b244ebbeda0b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84a7fdea9acbf7a93023fc0335e9a9d7"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shardcache__node_8h.html#a84a7fdea9acbf7a93023fc0335e9a9d7">shardcache_node_get_address</a> (<a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *node)</td></tr>
<tr class="memdesc:a84a7fdea9acbf7a93023fc0335e9a9d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a valid address for a given node (from any of the replicas)  <a href="#a84a7fdea9acbf7a93023fc0335e9a9d7">More...</a><br/></td></tr>
<tr class="separator:a84a7fdea9acbf7a93023fc0335e9a9d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a148c09f6438efaaabc99f4af18464126"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shardcache__node_8h.html#a148c09f6438efaaabc99f4af18464126">shardcache_node_num_addresses</a> (<a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *node)</td></tr>
<tr class="memdesc:a148c09f6438efaaabc99f4af18464126"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of addresses (replicas) configured for a given node.  <a href="#a148c09f6438efaaabc99f4af18464126">More...</a><br/></td></tr>
<tr class="separator:a148c09f6438efaaabc99f4af18464126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a6c2d58ea00be742db98646ac09da44"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shardcache__node_8h.html#a3a6c2d58ea00be742db98646ac09da44">shardcache_node_get_all_addresses</a> (<a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *node, char **addresses, int num_addresses)</td></tr>
<tr class="memdesc:a3a6c2d58ea00be742db98646ac09da44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all the addresses (up to num_addresses) configured for a given node.  <a href="#a3a6c2d58ea00be742db98646ac09da44">More...</a><br/></td></tr>
<tr class="separator:a3a6c2d58ea00be742db98646ac09da44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeade88e9dd7e780fae0fee834079bb81"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shardcache__node_8h.html#aeade88e9dd7e780fae0fee834079bb81">shardcache_node_get_address_at_index</a> (<a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *node, int index)</td></tr>
<tr class="memdesc:aeade88e9dd7e780fae0fee834079bb81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get one of the addresses (at a specific index) configured for a given node.  <a href="#aeade88e9dd7e780fae0fee834079bb81">More...</a><br/></td></tr>
<tr class="separator:aeade88e9dd7e780fae0fee834079bb81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2957f331a54d0db05fdeebb30c5b92bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shardcache__node_8h.html#a2957f331a54d0db05fdeebb30c5b92bb">shardcache_node_select</a> (shardcache_t *cache, char *label)</td></tr>
<tr class="memdesc:a2957f331a54d0db05fdeebb30c5b92bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select a node by its label.  <a href="#a2957f331a54d0db05fdeebb30c5b92bb">More...</a><br/></td></tr>
<tr class="separator:a2957f331a54d0db05fdeebb30c5b92bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af95f9099d20c9d59f61823059f895674"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shardcache__node_8h.html#af95f9099d20c9d59f61823059f895674">shardcache_get_nodes</a> (shardcache_t *cache, int *num_nodes)</td></tr>
<tr class="memdesc:af95f9099d20c9d59f61823059f895674"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of all nodes (including this node itself) taking part to the shardcache 'cloud'.  <a href="#af95f9099d20c9d59f61823059f895674">More...</a><br/></td></tr>
<tr class="separator:af95f9099d20c9d59f61823059f895674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44a8e1154d11daf9799f77573f8d6115"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shardcache__node_8h.html#a44a8e1154d11daf9799f77573f8d6115">shardcache_free_nodes</a> (<a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> **nodes, int num_nodes)</td></tr>
<tr class="memdesc:a44a8e1154d11daf9799f77573f8d6115"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release resources for a list of nodes.  <a href="#a44a8e1154d11daf9799f77573f8d6115">More...</a><br/></td></tr>
<tr class="separator:a44a8e1154d11daf9799f77573f8d6115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabba71be9c0664ea0dc7b5ce5b8a0342"><td class="memItemLeft" align="right" valign="top">char **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shardcache__node_8h.html#aabba71be9c0664ea0dc7b5ce5b8a0342">shardcache_get_node_labels</a> (shardcache_t *cache, int *num_labels)</td></tr>
<tr class="memdesc:aabba71be9c0664ea0dc7b5ce5b8a0342"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the labels of all nodes (including this node itself) taking part to the shardcache 'cloud'.  <a href="#aabba71be9c0664ea0dc7b5ce5b8a0342">More...</a><br/></td></tr>
<tr class="separator:aabba71be9c0664ea0dc7b5ce5b8a0342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeb94d38a51d419acb3f4de87b81da0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shardcache__node_8h.html#aaeb94d38a51d419acb3f4de87b81da0f">shardcache_free_labels</a> (<a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> **labels, int num_labels)</td></tr>
<tr class="memdesc:aaeb94d38a51d419acb3f4de87b81da0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release resources for a list of labels.  <a href="#aaeb94d38a51d419acb3f4de87b81da0f">More...</a><br/></td></tr>
<tr class="separator:aaeb94d38a51d419acb3f4de87b81da0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a860894af5414a0540d590e28afe950c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct __shardcache_node_s <a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structure representing a node taking part in the shard cache. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="shardcache_8h.html#a74346747eb9ad9da22cd1c6b06849d3e" title="Create a new shardcache instance.">shardcache_create()</a> </dd>
<dd>
<a class="el" href="shardcache__node_8h.html#af95f9099d20c9d59f61823059f895674" title="Get the list of all nodes (including this node itself) taking part to the shardcache &#39;cloud&#39;...">shardcache_get_nodes()</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2badea72b53f16926b5b1149a41abf2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a>* shardcache_node_create </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>addresses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_addresses</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new shardcache_node_t structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">label</td><td>The label of the node </td></tr>
    <tr><td class="paramname">addresses</td><td>Array containing the addresses for all the replicas representing the node </td></tr>
    <tr><td class="paramname">num_addresses</td><td>The number of items in the addresses array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A newly initialized shardcache_node_t structure </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The caller MUST release the resources used to represent the node by calling <a class="el" href="shardcache__node_8h.html#adfe43d081702ba86967e950a460a4540" title="Release all the resources used by a shardcache_node_t structure.">shardcache_node_destroy()</a> on the returned pointer </dd></dl>

</div>
</div>
<a class="anchor" id="a17d43616aea15b1f2bab1c27d1d3193a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a>* shardcache_node_create_from_string </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new shardcache_node_t structure by parsing a full node string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>A valid node string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A newly initialized shardcache_node_t structure </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The caller MUST release the resources used to represent the node by calling <a class="el" href="shardcache__node_8h.html#adfe43d081702ba86967e950a460a4540" title="Release all the resources used by a shardcache_node_t structure.">shardcache_node_destroy()</a> on the returned pointer </dd></dl>

</div>
</div>
<a class="anchor" id="a8fd1dab4ef239e3ee7d6f481d2e34634"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a>* shardcache_node_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a copy of an existing shardcache_node_t structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>A previously initialized and valid shardcache_node_t structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A newly initialized shardcache_node_t structure identical to the original one </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The caller MUST release the resources used to represent the node by calling <a class="el" href="shardcache__node_8h.html#adfe43d081702ba86967e950a460a4540" title="Release all the resources used by a shardcache_node_t structure.">shardcache_node_destroy()</a> on the returned pointer </dd></dl>

</div>
</div>
<a class="anchor" id="adfe43d081702ba86967e950a460a4540"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shardcache_node_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release all the resources used by a shardcache_node_t structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>A previously initialized and valid shardcache_node_t structure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a394b31103821ffa12117d3d30d746229"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* shardcache_node_get_label </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the label for a given node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>A previously initialized and valid shardcache_node_t structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The label for the node passed as argument </dd></dl>

</div>
</div>
<a class="anchor" id="a68ee36b423681d7e544b244ebbeda0b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* shardcache_node_get_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the node-string representing a given node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>A previously initialized and valid shardcache_node_t structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The node-string for the node passed as argument </dd></dl>

</div>
</div>
<a class="anchor" id="a84a7fdea9acbf7a93023fc0335e9a9d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* shardcache_node_get_address </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a valid address for a given node (from any of the replicas) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>A previously initialized and valid shardcache_node_t structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the valid addresses for the node passed as argument </dd></dl>
<dl class="section note"><dt>Note</dt><dd>If replicas are used this function may return a different value (among the configured replicas) each time it's called </dd></dl>

</div>
</div>
<a class="anchor" id="a148c09f6438efaaabc99f4af18464126"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shardcache_node_num_addresses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of addresses (replicas) configured for a given node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>A previously initialized and valid shardcache_node_t structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of addresses for the given node </dd></dl>

</div>
</div>
<a class="anchor" id="a3a6c2d58ea00be742db98646ac09da44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shardcache_node_get_all_addresses </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>addresses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_addresses</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all the addresses (up to num_addresses) configured for a given node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>A previously initialized and valid shardcache_node_t structure </td></tr>
    <tr><td class="paramname">addresses</td><td>A prealloc'd array of pointers where to store the addresses </td></tr>
    <tr><td class="paramname">num_addresses</td><td>the number of addresses that can fit into the provided (prealloc'd) array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The total number of addresses configured for the given node </dd></dl>
<dl class="section note"><dt>Note</dt><dd>the pointers stored in the array point directly to the internal node storage so the caller should neither modify nor release them. (The array itself, prealloc'd by the caller, should instead be normally released)</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Cleanup/Improve this API </dd></dl>

</div>
</div>
<a class="anchor" id="aeade88e9dd7e780fae0fee834079bb81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* shardcache_node_get_address_at_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get one of the addresses (at a specific index) configured for a given node. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>A previously initialized and valid shardcache_node_t structure </td></tr>
    <tr><td class="paramname">index</td><td>the index of the address we want to ge </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The address at the specified index if any, NULL otherwise</dd></dl>
<dl class="section note"><dt>Note</dt><dd>the returned pointer points directly to the internal node storage so the caller should neither modify nor release it</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Cleanup/Improve this API </dd></dl>

</div>
</div>
<a class="anchor" id="a2957f331a54d0db05fdeebb30c5b92bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a>* shardcache_node_select </td>
          <td>(</td>
          <td class="paramtype">shardcache_t *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select a node by its label. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>A valid pointer to a shardcache_t structure </td></tr>
    <tr><td class="paramname">label</td><td>The label of the node to select </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A valid shardcache_node_t structure representing the requested node, NULL if no node has been found matching the label passed as argument </dd></dl>

</div>
</div>
<a class="anchor" id="af95f9099d20c9d59f61823059f895674"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a>** shardcache_get_nodes </td>
          <td>(</td>
          <td class="paramtype">shardcache_t *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>num_nodes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the list of all nodes (including this node itself) taking part to the shardcache 'cloud'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>A valid pointer to a shardcache_t structure </td></tr>
    <tr><td class="paramname">num_nodes</td><td>If provided the number of nodes in the returned array will be will be stored at the location pointed by num_nodes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A list containing all the nodes &lt;address:port&gt; strings </dd></dl>
<dl class="section note"><dt>Note</dt><dd>the caller MUST release the returned pointer once done with it by using the <a class="el" href="shardcache__node_8h.html#a44a8e1154d11daf9799f77573f8d6115" title="Release resources for a list of nodes.">shardcache_free_nodes()</a> function on the returned list </dd></dl>

</div>
</div>
<a class="anchor" id="a44a8e1154d11daf9799f77573f8d6115"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shardcache_free_nodes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> **&#160;</td>
          <td class="paramname"><em>nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_nodes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release resources for a list of nodes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nodes</td><td>A valid list of shardcache_node_t structures (as returned by <a class="el" href="shardcache__node_8h.html#af95f9099d20c9d59f61823059f895674" title="Get the list of all nodes (including this node itself) taking part to the shardcache &#39;cloud&#39;...">shardcache_get_nodes()</a>) </td></tr>
    <tr><td class="paramname">num_nodes</td><td>The number of nodes in the array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aabba71be9c0664ea0dc7b5ce5b8a0342"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char** shardcache_get_node_labels </td>
          <td>(</td>
          <td class="paramtype">shardcache_t *&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>num_labels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the labels of all nodes (including this node itself) taking part to the shardcache 'cloud'. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cache</td><td>A valid pointer to a shardcache_t structure </td></tr>
    <tr><td class="paramname">num_labels</td><td>If provided the number of nodes in the returned array will be will be stored at the location pointed by num_nodes</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A list containing labels from all known nodes </dd></dl>
<dl class="section note"><dt>Note</dt><dd>the caller MUST release the returned pointer once done with it by using the <a class="el" href="shardcache__node_8h.html#aaeb94d38a51d419acb3f4de87b81da0f" title="Release resources for a list of labels.">shardcache_free_labels()</a> function on the returned list </dd></dl>

</div>
</div>
<a class="anchor" id="aaeb94d38a51d419acb3f4de87b81da0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shardcache_free_labels </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shardcache__node_8h.html#a860894af5414a0540d590e28afe950c7">shardcache_node_t</a> **&#160;</td>
          <td class="paramname"><em>labels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_labels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release resources for a list of labels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">labels</td><td>A valid list of labels (as returned by <a class="el" href="shardcache__node_8h.html#aabba71be9c0664ea0dc7b5ce5b8a0342" title="Get the labels of all nodes (including this node itself) taking part to the shardcache &#39;cloud&#39;...">shardcache_get_node_labels()</a>) </td></tr>
    <tr><td class="paramname">num_labels</td><td>The number of nodes in the array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="shardcache__node_8h.html">shardcache_node.h</a></li>
    <li class="footer">Generated on Thu Sep 11 2014 16:37:01 for libshardcache by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
